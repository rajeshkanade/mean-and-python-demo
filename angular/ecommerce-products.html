<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-commerce Product Page</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .product-container {
      border: 1px solid #e0e0e0;
      padding: 20px;
      margin: 20px auto;
      text-align: center;
      max-width: 350px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
      display: inline-block;
      vertical-align: top;
    }
    .product-container:hover {
      transform: translateY(-5px);
    }
    .product-container img {
      max-width: 100%;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .product-container h2 {
      font-size: 1.5em;
      color: #333;
      margin: 10px 0;
    }
    .product-container p {
      font-size: 1em;
      color: #666;
      margin: 10px 0;
      line-height: 1.5;
    }
    .product-container .description {
      font-size: 0.9em;
      color: #888;
      max-height: 100px;
      overflow-y: auto;
      padding: 10px;
      background: #f9f9f9;
      border-radius: 5px;
    }
    .review-section {
      margin-top: 15px;
    }
    .product-container input[type="number"],
    .product-container input[type="text"] {
      margin: 5px;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1em;
      width: 80px;
    }
    .product-container input[type="number"] {
      width: 100px;
    }
    .product-container button {
      padding: 10px 20px;
      font-size: 1em;
      border: none;
      border-radius: 5px;
      background: linear-gradient(45deg, #ff6b6b, #ff8e53);
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    .product-container button:hover {
      background: linear-gradient(45deg, #ff8e53, #ff6b6b);
    }
    .product-container ul {
      list-style: none;
      padding: 0;
      color: #666;
      max-height: 100px;
      overflow-y: auto;
      margin-top: 10px;
    }
    .product-container ul li {
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }
    .product-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    @media (max-width: 600px) {
      .product-container {
        max-width: 100%;
        margin: 10px;
      }
      .product-container .description,
      .product-container ul {
        max-height: 80px;
      }
      .product-container h2 {
        font-size: 1.2em;
      }
    }
  </style>
</head>
<body>
  <div ng-app="productApp" ng-controller="ProductController as product">
    <div class="product-grid">
      <div class="product-container" ng-repeat="prod in product.products">
        <img ng-src="{{ prod.image }}" alt="Product Image">
        <h2>{{ prod.name }}</h2>
        <p>Price: ${{ product.updatePrice(prod) }}</p>
        <p>Availability: {{ prod.stock }} units</p>
        <div class="description">
          {{ prod.description }}
        </div>
        <input type="number" ng-model="product.quantity" min="1" placeholder="Quantity">
        <div class="review-section">
          <input type="number" ng-model="product.newReview.rating" max="5" min="0" placeholder="Rating">
          <input type="text" ng-model="product.newReview.comment" placeholder="Comment">
          <button ng-click="product.addReview(prod.id)">Add Review</button>
        </div>
        <ul>
          <li ng-repeat="review in prod.reviews">{{ review.rating }} stars - {{ review.comment }}</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- AngularJS CDN -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script>
    angular.module('productApp', [])
      .controller('ProductController', function($scope) {
        var product = this;
        product.products = [
          {
            id: 1,
            name: 'Premium Wireless Headphones',
            price: 199.99,
            image: 'https://m.media-amazon.com/images/I/31eo70r2NWL._SY300_SX300_QL70_FMwebp_.jpg',
            stock: 50,
            description: 'Experience crystal-clear sound with these premium wireless headphones. Featuring advanced noise cancellation, a 20-hour battery life, and a comfortable over-ear design, perfect for music lovers and professionals alike. Available in black and silver.',
            reviews: []
          },
          {
            id: 2,
            name: 'Smart LED Bulb (RGB)',
            price: 29.99,
            image: 'https://m.media-amazon.com/images/I/41r3ZJpvPdL._SY300_SX300_QL70_FMwebp_.jpg',
            stock: 100,
            description: 'Transform your home with this smart LED bulb. Control colors, brightness, and schedules via a mobile app. Compatible with Alexa and Google Home, this energy-efficient bulb offers vibrant RGB lighting for any occasion.',
            reviews: []
          },
          {
            id: 3,
            name: 'Ergonomic Office Chair',
            price: 149.99,
            image: 'https://m.media-amazon.com/images/I/41sI4ilbVhL._SY300_SX300_QL70_FMwebp_.jpg',
            stock: 30,
            description: 'Enhance your workspace with this ergonomic office chair. Designed for long hours of comfort, it features adjustable lumbar support, a breathable mesh back, and a sleek modern design. Ideal for home offices or corporate settings.',
            reviews: []
          }
        ];
        product.quantity = 1;
        product.newReview = { rating: 0, comment: '' };

        product.updatePrice = function(prod) {
          return prod.price * product.quantity * (product.quantity > 10 ? 0.9 : 1);
        };

        product.addReview = function(productId) {
          var product = product.products.find(p => p.id === productId);
          if (product && product.newReview.rating > 0 && product.newReview.comment) {
            product.reviews.push({ ...product.newReview });
            product.newReview = { rating: 0, comment: '' };
          }
        };
      });
  </script>
</body>
</html>